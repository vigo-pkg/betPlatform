# Промпт для ИИ: сгенерировать фронтенд проекта (статический HTML/JS, JWT, REST)

Сгенерируй статический фронтенд (без фреймворков, только HTML/CSS/JS + Bootstrap 5), который взаимодействует с бэкендом по REST и JWT. Используй следующую структуру файлов и реализуй описанный функционал.

Требуемые файлы:
- `index.html` — главная страница (вход/регистрация, список пари, фильтры/поиск, создание пари)
- `app.js` — логика главной страницы (авторизация, хранение JWT, загрузка списка, создание пари, фильтры)
- `bet-detail.html` — страница деталей пари
- `bet-detail.js` — логика деталей (присоединение, голосование, комментарии, админ-действия)

Ограничения/инструменты:
- Без React/Vue/Angular. Чистый JS (ES6+), Bootstrap 5 (CDN)
- Никаких внешних SDK (например, Firebase)
- Хранить JWT в `localStorage` под ключом `authToken`
- Все запросы — `fetch` с `Content-Type: application/json`
- Авторизованные запросы — с заголовком `Authorization: Bearer <JWT>`

Конфигурация API (учесть `server.servlet.context-path=/api` на бэкенде):
- Если `window.location.hostname` — `localhost`/`127.0.0.1`/`::1`, использовать `http://localhost:8080/api`
- Иначе — `window.location.origin + '/api'`

Функционал главной страницы (index.html + app.js):
- Блок входа (`#authSection`):
  - Форма: Email/Пароль, submit → `POST /api/auth/login` с `{ email, password }`
  - При успехе: сохранить токен, показать `#mainContent`
- Регистрация (модалка):
  - Поля: Имя, Фамилия, Email, Пароль
  - Кнопка «Зарегистрироваться» → `POST /api/auth/register` с `{ firstName, lastName, email, password }`
  - При успехе: сохранить токен, закрыть модалку, показать `#mainContent`
- Валидация токена при старте: `GET /api/auth/validate`
  - Если 200 — отрисовать `#mainContent`
  - Иначе — очистить токен, показать `#authSection`
- Верхняя панель: отображать email пользователя и кнопку «Выйти» (очистка токена и показ `#authSection`)
- Список пари (`#betsContainer`):
  - Загрузка: `GET /api/bets?status&search&page&size` (ожидается `Page<BetResponse>`, брать `content`)
  - Карточка пари: Заголовок, Статус (с цветной плашкой), Дата начала, Длительность, Создатель/Участник/Наблюдатель
  - Клик по карточке → переход на `bet-detail.html?id={id}`
- Фильтры/поиск:
  - `#statusFilter` — значения: `OPEN`, `IN_PROGRESS`, `IMPLEMENTED`, `CONFLICT`, `RESOLVED`, `FINISHED`
  - `#searchInput` и кнопка поиска — перезагружать список
- Создание пари (модалка):
  - Поля: Название, Описание, Дата начала (datetime-local), Длительность (часы)
  - Кнопка «Создать» → `POST /api/bets`
  - При успехе — закрыть модалку, очистить форму, перезагрузить список
- Обработка 401/403: очищать токен, показывать вход, выводить подсказку («Сессия истекла. Войдите снова.»)

Функционал страницы деталей (bet-detail.html + bet-detail.js):
- Валидация токена при входе на страницу (как и на главной)
- Загрузка деталей: `GET /api/bets/{id}` — отобразить заголовок, описание, даты, статус, участников
- Присоединение:
  - Кнопка «Присоединиться как участник» → `POST /api/bets/{id}/join` с `{ role: 'PARTICIPANT' }`
  - Кнопка «Присоединиться как наблюдатель» → `POST /api/bets/{id}/join` с `{ role: 'OBSERVER' }`
  - При успехе — перезагрузить детали
- Голосование:
  - Загрузка статистики: `GET /api/bets/{id}/votes` → `{ forVotes, againstVotes, userVote }`
  - Кнопки «За»/«Против» → `POST /api/bets/{id}/vote` с `{ vote: true|false }`, затем обновить статистику
- Комментарии:
  - Загрузка: `GET /api/bets/{id}/comments`
  - Добавление: `POST /api/bets/{id}/comments` с `{ text }`, затем обновить список
- Админ-действия (только для создателя):
  - «Разрешить конфликт» (модалка с выбором `creator|participant|draw`) → `POST /api/bets/{id}/resolve`
  - «Завершить пари» (подтверждение) → `POST /api/bets/{id}/finish`

UI/UX требования:
- Стиль — Bootstrap 5 (CDN). Адаптивная верстка
- Интуитивные кнопки/иконки (FontAwesome CDN)
- Уведомления об ошибках — через alert или видимый элемент на странице
- Модалки для регистрации и создания пари — стандартные компоненты Bootstrap

Технические требования:
- Чистый, читаемый JS. Разделение кода между `app.js` и `bet-detail.js`
- Инициализация обработчиков надёжная: если скрипт загружен после DOMContentLoaded, обработчики всё равно должны навеситься
- Единый хелпер заголовков авторизации, централизованная обработка 401/403 (очистка токена и редирект на вход)
- Никаких глобальных зависимостей, кроме Bootstrap/FontAwesome (через CDN)

Критерии приёмки:
- Вход/регистрация → отображение email пользователя в шапке, кнопка «Выйти» работает
- Список пари грузится с фильтрами/поиском и отображается карточками
- Создание пари с корректными данными — успешно (модалка закрывается, список обновляется)
- На странице деталей работают: присоединение (если роль свободна), голосование, добавление комментариев, админ-кнопки (для создателя)
- Все защищённые запросы несут `Authorization` и при истёкшей сессии UI переводит на вход

Вывод:
- Верни полноценные содержимые файлов `index.html`, `app.js`, `bet-detail.html`, `bet-detail.js`, готовые к размещению на статическом сервере. 